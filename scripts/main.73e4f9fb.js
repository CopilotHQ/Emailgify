function callGif(){gifAddy=gifPhrase+"_"+gifColor+"_"+gifStyle,$("#stagedGif").attr("src","images/"+gifPhrase+"/"+gifAddy+".gif")}function dragulize(a,b,c){dragula([document.getElementById(a),document.getElementById(b)],{copy:!0}).on("drop",function(b){"gifColor"==c?gifColor=b.id:"gifPhrase"==c?gifPhrase=b.id:"gifStyle"==c&&(gifStyle=b.id),$("#"+a).find("div").removeClass("selectedBlock");var d=b;$(d).addClass("selectedBlock"),callGif()})}function paletteClicker(a,b){$(a+" div").click(function(){"gifColor"==b?gifColor=$(this).attr("id"):"gifPhrase"==b?gifPhrase=$(this).attr("id"):"gifStyle"==b&&(gifStyle=$(this).attr("id"));var a=$(this).parent();a.find("div").removeClass("selectedBlock"),$(this).addClass("selectedBlock"),callGif()})}function gifYourself(a,b,c){console.log(c),gifshot.createGIF({text:a,numFrames:10*b,fontSize:"24px",interval:.1,gifWidth:400,gifHeight:300,textBaseline:c},function(a){if(!a.error){var b=a.image,c=document.createElement("img");c.src=b,$("#gifself").html(c),$("#saveGif").show(),$("#saveGif").attr("href",b)}})}var gifColor="Blue",gifPhrase="Thanks",gifStyle="Sans",gifAddy,grid,textOverlay,gifLength,textBase;$(function(){$("#gifshot").click(function(){textOverlay=$("#textOverlay").val(),gifLength=$("#gifLength").val(),textBase=$("#textBase").val(),gifYourself(textOverlay,gifLength,textBase)}),paletteClicker("#color-palette","gifColor"),paletteClicker("#style-palette","gifStyle"),paletteClicker("#phrase-palette","gifPhrase"),dragulize("color-palette","stagedGif","gifColor"),dragulize("phrase-palette","stagedGif","gifPhrase"),dragulize("style-palette","stagedGif","gifStyle")});